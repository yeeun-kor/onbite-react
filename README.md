# React Counter - App 라이프사이클로 관리하기 (미니프로젝트 🕰️ 2025.05.22)

# useEffect()사용하기

`  useEffect(() => {}, []);`

1. 첫번째 인수 : 콜백함수
2. 두번째 인수 : 배열

## useEffect()동작 순서

1. 배열의 값이 바뀌면
2. sideEffect 효과로서, 콜백함수를 실행시킴

### 예시

1. 배열에 변화되는 값 (state) 을 넣으면, state상태가 바뀔 때마다, 콜백함수가 실행
2. 🤔배열이 바뀔때 마다 콜백함수가 실행되는거니, `배열`에 의존하게 됨.
   > useEffect() 사용되는 배열을 '의존성 배열 ( dependency array = deps )`이라고 부름.

## 의존성배열 (deps)

- deps는 값을 여러개 넣어도 된다.

---

# 라이프사이클 제어하기 (useEffect()로 제어)

1. 마운트 : 생성
2. 업데이트 : 변화,리랜더링
3. 언마운트 : 죽음

## 1. 마운트 제어하기

`  useEffect(() => {}, []);`

- deps를 빈배열로 설정하면, 변화되는 값이 없기 때문에 ! 이 App컴포넌트가 `mount`될 때만 실행되고, 그 이후에는 실행X
- 그래서 컴포넌트가 `mount`되었을때, 최초로 1번만 실행하고 싶은 코드가 있다면? 👉🏻 `deps` 로 빈배열을 반환 하도록.

## 2. 업데이트 제어하기

`  useEffect(() => {  });`

- deps를 아예 처음부터 생략하면, App컴포넌트가 `리랜더링 `될때마다 호출이 된다.
- 마운트의 빈배열은 , 변화가 있을때에만 호출 -> 첫 마운트 될때에만 호출인거고
- 업데이트는 `함수컴포넌트 자체가 리랜더링` 될때 호출이 됨.
  > 처음 mount될때엔 왜 update 도 출력이 되는 걸까?
