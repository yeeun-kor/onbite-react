# React Counter - App 만들기 (미니프로젝트 🕰️ 2025.05.20)

## 프로젝트 소개

![프로젝트소개](image.png)

- 부모컴포넌트 `<App>`
- 자식컴포넌트1 `<Viewer>`
- 자식컴포넌트2 `<Controller>`

<br>
<br>

## 1. 버튼 클릭 기능

- 각각의 버튼을 클릭하였을때 👉🏻 현재 카운트가 바뀌도록
- 접근법 : 값이 변경되어야 하니깐 `useState( )와 onChange 이벤트 핸들러 ` 사용하기?

<br>
<br>

> 그러면 state는 어떤 컴포넌트에 만들어야 할까?

<br>
<br>

- 👉🏻state는 컴포넌트 내부에서만 만들 수 있음
- 3가지의 컴포넌트 중에서 어디서 만들까?

1. Viewer컴포넌트
2. Controller 컴포넌트
3. App부모 컴포넌트

- 정답은 App컴포넌트이다

<br>
<br>

---

### 왜 App컴포넌트에서 state를 설정 해야할까?

- 자식 컴포넌트간에 종속성이 없기 때문에, 서로 데이터 교환이 불가함.
- 즉, 리액트에서는 각 컴포넌트간 데이터를 넘겨줄때 `props`를 설정하는데
- `props`는 부모가 👉🏻 자식한테만 전달 할 수 있기 때문!
  ![props는 부모가 자식한테만 전달 가능](image-1.png)

<br>
<br>

---

## 부모컴포넌트에서 useState() 사용해야한다.

![부모컴포에서 만들기](image-2.png)

1. Viewer에게는 현재값인 {count} 값을 넘기고
2. Controller에게는 버튼클릭할때마다 {setCount}값이 바뀌도록 이벤트 핸들러 기능을 전달 해야한다.

<br>
<br>

### 1. Viewer에게 {count}값 넘기기

- App 부모컴포넌트에서 `useState(0)` 초기값 설정
- `<Viewer>`컴포넌트에게 `props`값 넘겨주기
- `<Viewer>`컴포넌트는 매개변수로 구조분해할당 `Viewer({ count })` 값 받아오기

<br>
<br>

### 2. Controller에서 버튼클릭 이벤트 설정

- 버튼클릭시 {count} 값을 계산하려면 👉🏻 현재 count값과 setCount함수 둘다 필요함
- 번거롭게 두개 다 가지고 오지 말고 👉🏻 App컴포넌트에서 이벤트 핸들러를 만들고
- 이벤트 핸들러를 `props`로 보내버리자

<br>

## 🤔질문

![질문](image-3.png)

- 해당 이미지 처럼, 자식컴포넌트가 `props`로 이벤트핸들러를 받아왔는데,이걸 왜 그대로 사용안하고
- 한번 더 화살표 함수를 사용하는거지?

<br>

> 답변 : 우리가 이벤트 핸들러를 App컴포넌트에서 만들때, 매개변수를 각 버튼에 해당하는 계산하고 싶은 값 ( -1,-10,-100)을 `value`로 보내잖아? 매개변수값을 넘겨서 App으로 보내줘야하기 때문에 , onClick에서 props로 받은 메서드 호출하면서 매개변수 값도 같이 넘겨줘야함. 그래서 이벤트 핸들러 처리를 한번 더 해줘야함.

<br>

### ✅참고답변

- React에서 이벤트 핸들러(예: onClick)는 함수 참조를 기대한다.
- 즉,` <button onClick={props에서 받은 함수 }>` 처럼 함수 자체를 전달해야 이벤트 발생 시 해당 함수가 호출된다.
- 그래서 ` <button onClick={onClickButton}>-10</button>` 이렇게 설정하면 , 매개변수값이 들어가지 않으니깐 계산 자체가 안된다.🚀

<br>

> 화살표 함수를 사용하는 이유

- React의 onClick은 기본적으로 `이벤트 객체(e)` 만 전달함.
- 커스텀 매개변수`(예: -1,-10,-100)` 를 전달하려면 화살표 함수로 감싸야한다.

<br>

---

# React.js 데이터 흐름

- 리액트 데이터들은 항상 위에서 아래로 `한방향` 으로만 흘러간다.
  ![데이터흐름](image-4.png)
- 즉 = 단방향 데이터 흐름

<br>

## 단방향 데이터 흐름의 장점

1. 파악하기 쉽고, 직관적이다.
2. 데이터를 직관적으로 관리하기 좋다.
3. 그래서 `state`값을 어디에 위치시킬 것인지 고민 필요.

<br>

## State Lifting( State 끌어올리기)

- 이러한 계층구조를 갖고 있기 때문에, State를 부모컴포넌트에서 관리하는 방법
- State끌어올리기라고 표현한다.
  > 근데 사실, `끌어올린다` 라는 말이 잘 와닿지 않아서 강사님에게 SOS요청하였음.

---

# useEffect()사용하기

`  useEffect(() => {}, []);`

1. 첫번째 인수 : 콜백함수
2. 두번째 인수 : 배열

## useEffect()동작 순서

1. 배열의 값이 바뀌면
2. sideEffect 효과로서, 콜백함수를 실행시킴

### 예시

1. 배열에 변화되는 값 (state) 을 넣으면, state상태가 바뀔 때마다, 콜백함수가 실행
2. 🤔배열이 바뀔때 마다 콜백함수가 실행되는거니, `배열`에 의존하게 됨.
   > useEffect() 사용되는 배열을 '의존성 배열 ( dependency array = deps )`이라고 부름.

## 의존성배열 (deps)

- deps는 값을 여러개 넣어도 된다.
